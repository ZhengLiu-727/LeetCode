Given an integer `n`, return *the number of ways you can write* `n` *as the sum of consecutive positive integers.*

**Example 1:**

```
Input: n = 5
Output: 2
Explanation: 5 = 2 + 3
```

**Example 2:**

```
Input: n = 9
Output: 3
Explanation: 9 = 4 + 5 = 2 + 3 + 4
```

**Example 3:**

```
Input: n = 15
Output: 4
Explanation: 15 = 8 + 7 = 4 + 5 + 6 = 1 + 2 + 3 + 4 + 5
```

**Constraints:**

- `1 <= n <= 109`

> **思路**

假设 k 个连续正整数的和为 N，即 N = (x + 1) + (x + 2) + ··· + (x + k)

公式一：N = k * x + 1/2(1+k) * k

公式一：2N = k * (2x + k + 1)

因为 2x + k + 1 一定比 k 大，所以 k 一定小于 sqrt(2N)，这样就能确定k的范围

然后看公式一，如果右边减去1/2(1+k) * k，再除k，得到x如果是整数那么就是一个解

> **解法**

```java
class Solution {
  public int consecutiveNumbersSum(int n) {
    int res = 1;
    for (int i = 2; i < Math.sqrt(2 * n); ++i) {
        if ((n - i * (i - 1) / 2) % i == 0) ++res;
    }
    return res;
  }
}
```

复杂度

时间复杂度：O(sqrt(N))

空间复杂度：O(1)

